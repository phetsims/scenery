<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Scenery Layout</title>

  <link rel="stylesheet" href="../../sherpa/lib/bootstrap-2.2.2.css">
  <link rel="stylesheet" href="../../sherpa/lib/bootstrap-responsive-2.2.2.css">
  <link rel="stylesheet" href="../../sherpa/lib/syntaxhighlighter-3.0.83/shCore.css">
  <link rel="stylesheet" href="../../sherpa/lib/syntaxhighlighter-3.0.83/shThemeDefault.css">
  <link rel="stylesheet" href="../assets/scenery.css">

  <!-- Before loading other things (that might error), create hooks to report errors/loads for continuous testing -->
  <script src="../../chipper/js/sim-tests/pageload-connector.js"></script>

  <!-- jQuery and LoDash are dependencies -->
  <script src="../../sherpa/lib/jquery-2.1.0.min.js"></script>
  <script src="../../sherpa/lib/lodash-4.17.4.min.js"></script>

  <!-- For the styling -->
  <script src="../../sherpa/lib/bootstrap-2.2.2.js"></script>

  <script src="../../sherpa/lib/syntaxhighlighter-3.0.83/shCore.js"></script>
  <script src="../../sherpa/lib/syntaxhighlighter-3.0.83/shBrushJScript.js"></script>
  <script src="../../sherpa/lib/syntaxhighlighter-3.0.83/shBrushXml.js"></script>

  <!-- Our code, in either the concatenated 'with comments' version or the minified version -->
  <script src="../build/scenery.min.js"></script>

  <script type="text/javascript">
    scenery.Utils.polyfillRequestAnimationFrame();

    function dynamicDemo( id, getBox, options ) {
      options = phetCore.merge( {
        resize: 'both',
        useMinWidth: true,
        useMinHeight: false,
        adjustDisplay: false,
        step: null
      }, options );

      const container = document.getElementById( id );
      const scene = new scenery.Node();
      const box = getBox();
      scene.addChild( box );
      const display = new scenery.Display( scene );
      display.domElement.classList.add( 'exampleScene' );
      display.domElement.style.position = 'relative';
      display.domElement.style.resize = options.resize;

      // Initials
      display.width = Math.ceil( scene.right );
      display.height = Math.ceil( scene.bottom );
      display.domElement.style.width = display.width + 'px';
      display.domElement.style.height = display.height + 'px';
      if ( options.useMinWidth ) {
        display.domElement.style.minWidth = display.width + 'px';
      }
      if ( options.useMinHeight ) {
        display.domElement.style.minHeight = display.height + 'px';
      }

      display.updateOnRequestAnimationFrame( dt => {
        options.step && options.step( dt );

        if ( options.adjustDisplay ) {
          display.width = Math.ceil( scene.right );
          display.height = Math.ceil( scene.bottom );
          display.domElement.style.width = display.width + 'px';
          display.domElement.style.height = display.height + 'px';
        }
        else {
          if ( display.domElement.clientWidth ) {
            display.width = display.domElement.clientWidth;
            box.preferredWidth = display.domElement.clientWidth;
          }
          if ( display.domElement.clientHeight ) {
            display.height = display.domElement.clientHeight;
            box.preferredHeight = display.domElement.clientHeight;
          }
        }
      } );

      container.appendChild( display.domElement );

      const code = document.createElement( 'pre' );
      code.classList.add( 'brush:' );
      code.classList.add( 'js' );
      code.innerHTML = getBox.toString().match( /\/\*START\*\/((.|\n)*)\/\*END\*\// )[ 1 ];
      container.appendChild( code );
    }

    const colors = [
      new scenery.Color( 62, 171, 3 ),
      new scenery.Color( 23, 180, 77 ),
      new scenery.Color( 24, 183, 138 ),
      new scenery.Color( 23, 178, 194 ),
      new scenery.Color( 20, 163, 238 ),
      new scenery.Color( 71, 136, 255 ),
      new scenery.Color( 171, 101, 255 ),
      new scenery.Color( 228, 72, 235 ),
      new scenery.Color( 252, 66, 186 ),
      new scenery.Color( 252, 82, 127 )
    ];
  </script>

  <style type="text/css">

    .exampleScene {
      margin: 15px auto;
      border: 1px solid black;
      position: relative;
      left: 0;
      top: 0;
    }

    h3 {
      font-size: 130%;
    }

  </style>

</head>

<body>
<div class="navbar navbar-inverse navbar-static-top">
  <div class="navbar-inner">
    <a class="brand" href="/scenery">Scenery</a>
    <ul class="nav">
      <li><a href="../">Home</a></li>
      <li class="active"><a href="../doc">Documentation</a></li>
      <li><a href="../examples">Examples</a></li>
      <li><a href="../tests">Tests</a></li>
    </ul>
  </div>
</div>

<div class="row-fluid">
  <div class="span2"></div>
  <div class="span8">
    <div class="page-header" style="text-align: center;">
      <h1>Scenery Layout</h1>
    </div>

    <p>Currently some examples. Resizing from the lower-right corner adjusts the preferred size</p>

    <h2>FlowBox</h2>

    <h3>orientation</h3>

    <p>
      For horizontal line-based layout, use HBox:
    </p>

    <div id="HBox-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'HBox-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>
      For vertical line-based layout, use HBox:
    </p>

    <div id="VBox-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'VBox-example', () => {
        /*START*/
        return new scenery.VBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'vertical' } );
    </script>

    <p>For cases where the orientation needs to be determined programmatically, use FlowBox:</p>

    <div id="orientation-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'orientation-example', () => {
        /*START*/
        return new scenery.FlowBox( {
          orientation: phetCore.Orientation.horizontal,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>Resizing</h3>

    <p>The box adjusts to changing cell sizes:</p>

    <div id="dynamic-example"></div>
    <script type="text/javascript">
      {
        let circle;
        let step;
        dynamicDemo( 'dynamic-example', () => {
          /*START*/
          circle = new scenery.Circle( 25, { fill: colors[ 6 ] } );
          let time = 0;
          step = dt => {
            time += dt;
            circle.radius = 25 + 10 * Math.sin( 4 * time );
          };
          return new scenery.HBox( {
            children: [
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
              circle,
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
            ]
          } );
          /*END*/
        }, { resize: 'none', useMinWidth: false, adjustDisplay: true, step: dt => step( dt ) } );
      }
    </script>

    <p>Resizing/layout can be disabled with resize:false:</p>

    <div id="locked-sizing-example"></div>
    <script type="text/javascript">
      {
        let circle;
        let step;
        dynamicDemo( 'locked-sizing-example', () => {
          /*START*/
          circle = new scenery.Circle( 25, { fill: colors[ 6 ] } );
          let time = 0;
          step = dt => {
            time += dt;
            circle.radius = 25 + 10 * Math.sin( 4 * time );
          };
          return new scenery.HBox( {
            resize: false,
            children: [
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
              circle,
              new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
            ]
          } );
          /*END*/
        }, { resize: 'none', useMinWidth: false, adjustDisplay: true, step: dt => step( dt ) } );
      }
    </script>

    <h3>Invisible children</h3>

    <p>Invisible nodes are not included in layout/bounds by default:</p>

    <div id="invis-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'invis-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ], visible: false } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>Invisible nodes can be forced into the layout:</p>

    <div id="force-vis-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'force-vis-example', () => {
        /*START*/
        return new scenery.HBox( {
          excludeInvisibleChildrenFromBounds: false,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ], visible: false } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>grow</h3>

    <p>Nodes with preferred sizes can be added, and the grow in layoutOptions will attempt to put extra space into that cell</p>

    <div id="resizable-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'resizable-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { grow: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>Extra space can be allocated proportionally (a node with 4 times the grow value will grow 4 times as fast):</p>

    <div id="grow-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grow-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { grow: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { grow: 4 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>Constraining dimensions</h3>

    <p>Maximums can be applied to constrain this growing (it won't grow past the max content dimension):</p>

    <div id="maxContentWidth-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'maxContentWidth-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { grow: 1, maxContentWidth: 150 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>Minimums can also force a certain expansion:</p>

    <div id="minContentWidth-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'minContentWidth-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { grow: 1, minContentWidth: 100 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>Minimums and maximums also apply on the secondary axis:</p>

    <div id="secondaryAxisContent-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'secondaryAxisContent-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: {
                grow: 1,
                minContentWidth: 50,
                minContentHeight: 50,
                maxContentHeight: 100,
                stretch: true
              }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>justify</h3>

    <p>Justification controls how extra space is allocated around cells (after any growing possible has been done):</p>

    <div id="justification-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'justification-example', () => {
        const createBoxes = label => [
          new scenery.Rectangle( 0, 0, 170, 30, { fill: colors[ 2 ], children: [
            new scenery.Text( label, { fontSize: 16, centerY: 15 } )
          ] } ),
          new scenery.Rectangle( 0, 0, 50, 30, { fill: colors[ 4 ] } ),
          new scenery.Circle( 15, { fill: colors[ 6 ] } ),
          new scenery.Rectangle( 0, 0, 50, 30, { fill: colors[ 8 ] } )
        ];
        /*START*/
        const boxes = [
          new scenery.HBox( {
            justify: 'left',
            children: createBoxes( 'justify:left' )
          } ),
          new scenery.HBox( {
            justify: 'right',
            children: createBoxes( 'justify:right' )
          } ),
          new scenery.HBox( {
            justify: 'spaceBetween',
            children: createBoxes( 'justify:spaceBetween' )
          } ),
          new scenery.HBox( {
            justify: 'spaceAround',
            children: createBoxes( 'justify:spaceAround' )
          } ),
          new scenery.HBox( {
            justify: 'spaceEvenly',
            children: createBoxes( 'justify:spaceEvenly' )
          } ),
          new scenery.HBox( {
            justify: 'center',
            children: createBoxes( 'justify:center' )
          } )
        ];
        /*END*/
        const container = new scenery.VBox( {
          justify: 'top',
          children: boxes
        } );
        container.preferredWidthProperty.link( preferredWidth => boxes.forEach( box => {
          box.preferredWidth = preferredWidth;
        } ) );
        return container;
      }, { resize: 'horizontal' } );
    </script>

    <h3>wrap</h3>

    <p>Wrapping will shift content that doesn't fit the preferred size into new rows/columns (try resizing it to be less wide):</p>

    <div id="wrap-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'wrap-example', () => {
        /*START*/
        return new scenery.HBox( {
          wrap: true,
          justify: 'left',
          justifyLines: 'top',
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinWidth: false } );
    </script>

    <h3>align</h3>

    <p>Alignment controls how cells are positioned in the secondary orientation:</p>

    <div id="align-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'align-example', () => {
        /*START*/
        const boxes = [
          'top',
          'bottom',
          'center',
          'origin'
        ].map( align => {
          return new scenery.HBox( {
            children: [
              new scenery.Rectangle( 0, 0, 50, 15, { fill: colors[ 9 ] } ),
              new scenery.Rectangle( 0, 0, 50, 20, { fill: colors[ 6 ] } ),
              new scenery.Rectangle( {
                widthSizable: true,
                heightSizable: true,
                localMinimumWidth: 50,
                localMinimumHeight: 10,
                rectWidth: 50,
                rectHeight: 10,
                fill: 'gray'
              } ),
              new scenery.Rectangle( 0, 0, 50, 5, { fill: colors[ 4 ] } ),
              new scenery.Rectangle( 0, 0, 50, 15, { fill: colors[ 2 ] } ),
              new scenery.Circle( 7, { fill: colors[ 0 ] } ),
              new scenery.Text( `Alignment: ${align}` )
            ],
            justify: 'left',
            align: align
          } );
        } );
        /*END*/
        return new scenery.VBox( {
          children: boxes,
          spacing: 10,
          align: 'left'
        } );
      }, { resize: 'none', useMinWidth: false } );
    </script>

    <h3>justifyLines</h3>

    <p>justifyLines controls how lines are positioned in the secondary orientation (null will default to a stretch):</p>

    <div id="justifyLines-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'justifyLines-example', () => {
        /*START*/
        const boxes = [
          'top',
          'bottom',
          'center',
          'spaceBetween',
          'spaceAround',
          'spaceEvenly',
          null
        ].map( justifyLines => {
          const createResizable = () => {
            const node = new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 20,
              localMinimumHeight: 20,
              fill: 'gray'
            } );
            return node;
          };
          return new scenery.HBox( {
            preferredWidth: 40,
            widthSizable: false,
            wrap: true,
            stretch: true,
            children: [
              new scenery.Rectangle( 0, 0, 20, 20, { fill: colors[ 2 ] } ),
              createResizable(),
              new scenery.Rectangle( 0, 0, 20, 20, { fill: colors[ 4 ] } ),
              createResizable(),
              new scenery.Rectangle( 0, 0, 20, 20, { fill: colors[ 6 ] } ),
              createResizable(),
              new scenery.Rectangle( 0, 0, 20, 20, { fill: colors[ 8 ] } ),
              createResizable()
            ],
            justifyLines: justifyLines
          } );
        } );
        /*END*/
        const container = new scenery.HBox( {
          justify: 'left',
          stretch: true,
          children: boxes
        } );
        // container.preferredHeightProperty.link( preferredHeight => boxes.forEach( box => {
        //   box.preferredHeight = preferredHeight;
        // } ) );
        return container;
      }, { resize: 'vertical', useMinHeight: true } );
    </script>

    <h3>spacing</h3>

    <p>Spacing can be added, that is applied between cells:</p>

    <div id="spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'spacing-example', () => {
        /*START*/
        return new scenery.HBox( {
          spacing: 10,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>lineSpacing</h3>

    <p>Spacing between lines (rows/cols) can also be added, which applies when wrapped:</p>

    <div id="lineSpacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'lineSpacing-example', () => {
        /*START*/
        return new scenery.HBox( {
          lineSpacing: 10,
          wrap: true,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinWidth: false } );
    </script>

    <h3>Margins</h3>

    <p>Margins can also be added to every cell (margin affects all 4 sides, xMargin affects left/right, yMargin affects top/bottom):</p>

    <div id="margin-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'margin-example', () => {
        /*START*/
        return new scenery.HBox( {
          leftMargin: 10,
          yMargin: 10, // controls topMargin and bottomMargin
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>Per-cell layout options</h3>

    <p>Margins can also be applied to individual cells:</p>

    <div id="marginCell-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'marginCell-example', () => {
        /*START*/
        return new scenery.HBox( {
          align: 'top',
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { topMargin: 10 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { leftMargin: 10 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>Similarly, alignment can also be customized to individual cells:</p>

    <div id="alignCell-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'alignCell-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 100, {
              fill: colors[ 2 ]
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 4 ],
              layoutOptions: { align: 'top' }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 6 ],
              layoutOptions: { align: 'bottom' }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { align: 'center' }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <p>These options use the default on the container, but can be overridden by cells:</p>

    <div id="override-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'override-example', () => {
        /*START*/
        return new scenery.HBox( {
          topMargin: 10,
          align: 'top',
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { topMargin: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } )
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>stretch</h3>

    <p>Stretch will have a resizable element take up the entire row/column size:</p>

    <div id="stretch-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'stretch-example', () => {
        /*START*/
        return new scenery.HBox( {
          children: [
            new scenery.Rectangle( 0, 0, 50, 100, {
              fill: colors[ 2 ]
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 4 ],
              layoutOptions: { align: 'top' }
            } ),
            new scenery.Rectangle( {
              widthSizable: true,
              heightSizable: true,
              localMinimumWidth: 50,
              localMinimumHeight: 50,
              fill: 'gray',
              layoutOptions: { stretch: true }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 6 ],
              layoutOptions: { align: 'bottom' }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { align: 'center' }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>Dividers</h3>

    <p>Dividers are also available for easy of use (dividers at the visible start/end and duplicates will be marked as invisible, while all other dividers will be marked as visible:</p>

    <div id="divider-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'divider-example', () => {
        /*START*/
        return new scenery.HBox( {
          margin: 5,
          children: [
            new scenery.HDivider(),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
            new scenery.HDivider(),
            new scenery.HDivider(),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
            new scenery.Circle( 25, { fill: colors[ 6 ] } ),
            new scenery.HDivider(),
            new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 8 ] } ),
            new scenery.HDivider()
          ]
        } );
        /*END*/
      }, { resize: 'horizontal' } );
    </script>

    <h3>align:origin</h3>

    <p>When using align:origin, the origin of the entire FlowBox will be at the origin of the first line:</p>

    <div id="flowOrigin-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'flowOrigin-example', () => {
        const originSize = 50;
        const originNode = new scenery.Path( new kite.Shape().moveTo( -originSize, 0 ).lineTo( originSize, 0 ).moveTo( 0, originSize ).lineTo( 0, -originSize ), {
          stroke: 'rgba(0,0,0,0.3)'
        } );
        const normalText = ( str, options ) => new scenery.Text( str, phetCore.merge( {
          font: new scenery.Font( { size: 12 } )
        }, options ) );
        const bigText = ( str, options ) => new scenery.Text( str, phetCore.merge( {
          font: new scenery.Font( { size: 18, weight: 'bold' } )
        }, options ) );
        /*START*/
        const box = new scenery.HBox( {
          align: 'origin',
          spacing: 5,
          lineSpacing: 5,
          children: [
            new scenery.Circle( 20, { fill: 'rgba(255,0,0,0.3)' } ),
            bigText( 'Text' ),
            normalText( 'Text' ),
            new scenery.Circle( 20, { fill: 'rgba(255,0,0,0.3)' } ),
            bigText( 'Text' ),
            normalText( 'text' ),
            new scenery.Circle( 20, { fill: 'rgba(255,0,0,0.3)' } ),
            bigText( 'Text' ),
            normalText( 'text' ),
            new scenery.Circle( 20, { fill: 'rgba(255,0,0,0.3)' } ),
            bigText( 'Text' ),
            normalText( 'text' )
          ],
          wrap: true,
          preferredWidth: 170,
          widthSizable: false,
          justify: 'left'
        } );
        /*END*/
        return new scenery.AlignBox( new scenery.Node( {
          children: [ originNode, box ]
        } ) );
      }, { resize: 'both' } );
    </script>

    <h2>GridBox</h2>

    <h3>Cell coordinates</h3>

    <p>Can be constructed with absolute coordinates (which can include gaps):</p>

    <div id="absolute-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'absolute-example', () => {
        /*START*/
        return new scenery.GridBox( {
          children: [
            new scenery.Rectangle( 0, 0, 75, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 75, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 2 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>rows</h3>

    <p>Grids can be constructed by specifying all the children in rows (null for gaps):</p>

    <div id="rows-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'rows-example', () => {
        /*START*/
        return new scenery.GridBox( {
          rows: [
            [
              new scenery.Rectangle( 0, 0, 75, 50, {
                fill: colors[ 0 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 75, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } )
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              null,
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ]
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>columns</h3>

    <p>or with colums:</p>

    <div id="columns-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'columns-example', () => {
        /*START*/
        return new scenery.GridBox( {
          columns: [
            [
              new scenery.Rectangle( 0, 0, 75, 50, {
                fill: colors[ 0 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 75, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } )
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              null,
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ]
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>autoRows/autoColumn</h3>

    <p>
      Additionally, if a certain number of rows/columns are desired, autoRows/autoColumns can be used to wrap and
      position the children based on this (auto-filling all spaces)
    </p>

    <div id="autoColumns-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'autoColumns-example', () => {
        /*START*/
        return new scenery.GridBox( {
          autoColumns: 3,
          children: colors.map( color => {
            return new scenery.Rectangle( 0, 0, 50, 50, { fill: color } );
          } )
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <div id="autoRows-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'autoRows-example', () => {
        /*START*/
        return new scenery.GridBox( {
          autoRows: 3,
          children: colors.map( color => {
            return new scenery.Rectangle( 0, 0, 50, 50, { fill: color } );
          } )
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>addRow/addColumn</h3>

    <p>
      Rows and columns can also be dynamically added in a similar way (rows will be below all current content, columns
      will be to the right of all current content):
    </p>

    <div id="addLines-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'addLines-example', () => {
        /*START*/
        const box = new scenery.GridBox();
        box.addRow( [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } )
        ] );
        box.addColumn( [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } )
        ] );
        /*END*/
        return box;
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>insertRow/insertColumn</h3>

    <p>
      Rows and columns can also be directly inserted by index:
    </p>

    <div id="insertLines-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'insertLines-example', () => {
        /*START*/
        const box = new scenery.GridBox();
        box.insertRow( 0, [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 2 ] } )
        ] );
        box.insertColumn( 1, [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 4 ] } )
        ] );
        box.insertRow( 2, [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 6 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 6 ] } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: colors[ 6 ] } )
        ] );
        /*END*/
        return box;
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>removeRow/removeColumn</h3>

    <p>
      Or removed by index:
    </p>

    <div id="deleteLines-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'deleteLines-example', () => {
        /*START*/
        const box = new scenery.GridBox( {
          rows: _.range( 0, 8 ).map( row => {
            return _.range( 0, 8 ).map( column => {
              return new scenery.Rectangle( 0, 0, 20, 20, {
                fill: new scenery.Color( row * 32, column * 32, 1 )
              } );
            } );
          } )
        } );
        box.removeRow( 2 );
        box.removeRow( 2 );
        box.removeColumn( 5 );
        box.removeColumn( 5 );
        /*END*/
        return box;
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>line/cell getters</h3>

    <p>
      Assorted operations can get the row/column of a child Node, or get all of the Nodes contained within a specific
      row or column:
    </p>

    <div id="findCell-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'findCell-example', () => {
        /*START*/
        const boxes = colors.map( color => new scenery.Rectangle( 0, 0, 50, 50, { fill: color } ) );
        const box = new scenery.GridBox( {
          children: boxes,
          autoColumns: 3
        } );
        box.autoColumns = null;

        // Find a node and insert a row before it
        box.insertRow( box.getRowOfNode( boxes[ 4 ] ), [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } )
        ] );

        // Find a node and insert a column before it
        box.insertColumn( box.getColumnOfNode( boxes[ 4 ] ), [
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } ),
          new scenery.Rectangle( 0, 0, 50, 50, { fill: 'black' } )
        ] );
        /*END*/
        return box;
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <div id="getLines-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'getLines-example', () => {
        /*START*/
        const box = new scenery.GridBox( {
          rows: _.range( 0, 8 ).map( row => {
            return _.range( 0, 8 ).map( column => {
              return new scenery.Rectangle( 0, 0, 20, 20, {
                fill: new scenery.Color( row * 32, column * 32, 1 )
              } );
            } );
          } )
        } );
        box.getNodesInRow( 3 ).forEach( node => { node.opacity = 0.5; } );
        box.getNodesInColumn( 3 ).forEach( node => { node.opacity = 0.5; } );
        /*END*/
        return box;
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>grow</h3>

    <p>Grids by default don't auto-expand all rows/columns in size to the preferred size, but they can with a similar style to FlowBox:</p>

    <div id="grow-grid-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grow-grid-example', () => {
        /*START*/
        return new scenery.GridBox( {
          grow: 1,
          rows: [
            [
              new scenery.Rectangle( 0, 0, 75, 50, {
                fill: colors[ 0 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 75, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } ),
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ]
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <p>This space can be grown in specified rows/columns only (and independently):</p>

    <div id="grow-2-grid-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grow-2-grid-example', () => {
        /*START*/
        return new scenery.GridBox( {
          rows: [
            [
              new scenery.Rectangle( 0, 0, 75, 50, {
                fill: colors[ 0 ],
                layoutOptions: { xGrow: 1 }
              } ),
              new scenery.Rectangle( 0, 0, 50, 75, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } ),
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ],
                layoutOptions: { yGrow: 1 }
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>stretch</h3>

    <p>Use stretch (or xStretch/yStretch) to grow a cell dynamically with the preferred dimensions to match the row/column:</p>

    <div id="preferred-grid-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'preferred-grid-example', () => {
        /*START*/
        return new scenery.GridBox( {
          rows: [
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 0 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } )
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              new scenery.Rectangle( {
                widthSizable: true,
                heightSizable: true,
                localMinimumWidth: 50,
                localMinimumHeight: 50,
                fill: 'gray',
                layoutOptions: { grow: 1, stretch: true }
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ]
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>sizable</h3>

    <p>Additionally, widthSizable/heightSizable can be used to turn off resizing in a component (particularly useful if you want to set a preferredWidth/preferredHeight on it that won't change):</p>

    <div id="gridResizable-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'gridResizable-example', () => {
        /*START*/
        return new scenery.GridBox( {
          rows: [
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 0 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ]
              } )
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              new scenery.Rectangle( {
                widthSizable: true,
                heightSizable: true,
                localMinimumHeight: 50,
                fill: 'gray',
                preferredWidth: 50,
                widthSizable: false,
                layoutOptions: { grow: 1, stretch: true }
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ]
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>align</h3>

    <p>Cells can be aligned in a similar way to FlowBox, but in both dimensions:</p>

    <div id="align-grid-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'align-grid-example', () => {
        /*START*/
        return new scenery.GridBox( {
          grow: 1,
          rows: [
            [
              new scenery.Rectangle( 0, 0, 75, 50, {
                fill: colors[ 0 ],
                layoutOptions: { xAlign: 'left', yAlign: 'top' }
              } ),
              new scenery.Rectangle( 0, 0, 50, 75, {
                fill: colors[ 2 ]
              } ),
              new scenery.Circle( 25, {
                fill: colors[ 4 ],
                layoutOptions: { yAlign: 'bottom' }
              } ),
            ],
            [
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 6 ]
              } ),
              new scenery.Rectangle( 0, 0, 50, 50, {
                fill: colors[ 8 ],
                layoutOptions: { yAlign: 'top' }
              } )
            ]
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>width/height</h3>

    <p>Cells can take up more than one row/column with the width/height layout options:</p>

    <div id="span-grid-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'span-grid-example', () => {
        /*START*/
        return new scenery.GridBox( {
          grow: 1,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 100, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0, width: 2 }
            } ),
            new scenery.Rectangle( 0, 0, 100, 100, {
              fill: colors[ 4 ],
              layoutOptions: { x: 0, y: 1, width: 2, height: 2 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 2, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 2, y: 2 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 3 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 1 ],
              layoutOptions: { x: 1, y: 3 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 2 ],
              layoutOptions: { x: 2, y: 3 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'both', useMinHeight: true } );
    </script>

    <h3>spacing</h3>

    <p>Grids can have consistent internal spacing:</p>

    <div id="grid-spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grid-spacing-example', () => {
        /*START*/
        return new scenery.GridBox( {
          spacing: 10,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 1 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <p>Grids can have different spacing on each dimension:</p>

    <div id="grid-2-spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grid-2-spacing-example', () => {
        /*START*/
        return new scenery.GridBox( {
          xSpacing: 5,
          ySpacing: 15,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 1 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <p>Grids can have custom arrays adjusting the spacing between every single row/column:</p>

    <div id="grid-3-spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'grid-3-spacing-example', () => {
        /*START*/
        return new scenery.GridBox( {
          xSpacing: [ 10, 0 ],
          ySpacing: [ 5 ],
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 1 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>Margins</h3>

    <p>Similar to FlowBox, grids can have margins applied to all elements:</p>

    <div id="margin-1-spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'margin-1-spacing-example', () => {
        /*START*/
        return new scenery.GridBox( {
          margin: 5,
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 1 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <p>Or can have margins specified on individual elements:</p>

    <div id="margin-2-spacing-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'margin-2-spacing-example', () => {
        /*START*/
        return new scenery.GridBox( {
          yAlign: 'top',
          children: [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 0 ],
              layoutOptions: { x: 0, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ],
              layoutOptions: { x: 1, y: 0, topMargin: 10 }
            } ),
            new scenery.Circle( 25, {
              fill: colors[ 4 ],
              layoutOptions: { x: 2, y: 0 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 6 ],
              layoutOptions: { x: 0, y: 1 }
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 8 ],
              layoutOptions: { x: 1, y: 1 }
            } )
          ]
        } );
        /*END*/
      }, { resize: 'none', useMinHeight: true } );
    </script>

    <h3>align:origin</h3>

    <p>When using align:origin, the origin of the entire GridBox will be at the origin of the first cell:</p>

    <div id="gridOrigin-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'gridOrigin-example', () => {
        const originSize = 50;
        const originNode = new scenery.Path( new kite.Shape().moveTo( -originSize, 0 ).lineTo( originSize, 0 ).moveTo( 0, originSize ).lineTo( 0, -originSize ), {
          stroke: 'rgba(0,0,0,0.3)'
        } );
        /*START*/
        const box = new scenery.GridBox( {
          xAlign: 'origin',
          yAlign: 'origin',
          children: [
            new scenery.Circle( 20, { fill: 'rgba(255,0,0,0.3)', layoutOptions: { x: 0, y: 0 } } ),
            new scenery.Circle( 10, { fill: 'rgba(255,0,0,0.3)', layoutOptions: { x: 1, y: 0 } } ),
            new scenery.Circle( 15, { fill: 'rgba(255,0,0,0.3)', layoutOptions: { x: 0, y: 1 } } ),
            new scenery.Circle( 25, { fill: 'rgba(255,0,0,0.3)', layoutOptions: { x: 1, y: 1 } } )
          ]
        } );
        /*END*/
        return new scenery.AlignBox( new scenery.Node( {
          children: [ originNode, box ]
        } ) );
      }, { resize: 'both' } );
    </script>

    <h2>Sizables</h2>

    <p>
      Certain Node subtypes are "sizable": they can be adjusted to different <em>preferred</em> sizes/bounds, which are
      equal to or larger than their <em>minimum</em> sizes. When the preferred size is set, the Node should adjust its
      own layout so that it takes up that size. This includes FlowBox (VBox/HBox), GridBox, Panel, and a growing list of
      Nodes.
    </p>

    <p>
      Sizable nodes will either mix in WidthSizable, HeightSizable, or Sizable (indicating that both width and height
      can be adjusted). This provides preferred and minimum sizes in BOTH local and parent coordinate frames (e.g.
      `preferredWidth` / `localPreferredWidth`). These separate coordinate frame versions will be kept in sync (and are
      backed by Properties).
    </p>

    <p>
      Typically Nodes will compute their own minimum width/height. The local version of this (e.g. `localMinimumWidth`)
      is considered the "primary" one, since Nodes usually do layout in their local coordinate frame. This means that
      when a Node's transform changes, its minimum sizes will be adjusted to match the equivalent localMinimum sizes.
    </p>

    <p>
      Typically layout containers (but also clients, manually) will set the preferred sizes on a Node. Thus the
      parent version will be primary (e.g. when a sizable Node is transformed, its localPreferredWidth will be adjusted
      to match the preferredWidth after the transformation).
    </p>

    <p>
      Some Nodes by default have this "sizability" turned off, and clients can do this manually with
      widthSizable/heightSizable/sizable:false. Layout containers should not attempt to set preferred sizes when the
      Node is not considered "sizable".
    </p>

    <p>
      For instance, Rectangles mix in Sizable, but are marked as sizable:false by default, so it won't take up space
      even when a container has a larger preferred size. They can be made resizable with sizable: true:
    </p>

    <div id="rectUnsizable-example"></div>
    <script type="text/javascript">
      dynamicDemo( 'rectUnsizable-example', () => {
        /*START*/
        return new scenery.GridBox( {
          // Resize everything up evenly
          grow: 1,
          stretch: true,

          // Show the effect without having to drag to make it larger
          minContentWidth: 100,
          minContentHeight: 100,
          rows: [ [
            new scenery.Rectangle( 0, 0, 50, 50, {
              fill: colors[ 2 ]
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              minimumWidth: 50,
              fill: colors[ 4 ],
              widthSizable: true
            } )
          ], [
            new scenery.Rectangle( 0, 0, 50, 50, {
              minimumHeight: 50,
              fill: colors[ 6 ],
              heightSizable: true
            } ),
            new scenery.Rectangle( 0, 0, 50, 50, {
              minimumWidth: 50,
              minimumHeight: 50,
              fill: colors[ 8 ],
              sizable: true
            } )
          ] ]
        } );
        /*END*/
      }, { resize: 'both', useMinWidth: true, useMinHeight: true } );
    </script>

  </div>
  <div class="span2"></div>
</div>

<footer style="background-color: #191919;">
  <a class="brand" href="/scenery">Scenery</a>
</footer>

<script type="text/javascript">
  SyntaxHighlighter.all();
</script>
</body>
</html>
